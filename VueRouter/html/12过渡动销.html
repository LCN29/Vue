<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		
		<script type="text/javascript" src="../js/vue.js" ></script>
		<script src="https://unpkg.com/vue-router/dist/vue-router.js"></script>
		<style>
			
			.transitionName-enter-active {
			  transition: all .3s ease;
			}
			.transitionName-leave-active {
			  transition: all .8s cubic-bezier(1.0, 0.5, 0.8, 1.0);
			}
			.transitionName-enter, .transitionName-leave-to{
				transform: translateX(10px);
  				opacity: 0;
			}
		</style>
	</head>
	<body>
		
		
		<!--
			<transition>
			  	<router-view></router-view>
			</transition>
			
			<transition> 的所有功能  在这里同样适用。
			这样设置的话，所有的路由都有动画
			
			单独给某个组件添加动画
			const Bar = {
			  template: `
			    <transition name="fade">
			      <div class="bar">...</div>
			    </transition>
			  `
			}
			
			
			基于路由的动态过渡
			 
			 使用动态的 transition name
			 
			<transition :name="transitionName">
			  <router-view></router-view>
			</transition>
			
			// 接着在父组件内
			// watch $route 决定使用哪种过渡
			watch: {
			  '$route' (to, from) {
			    const toDepth = to.path.split('/').length
			    const fromDepth = from.path.split('/').length
			    this.transitionName = toDepth < fromDepth ? 'slide-right' : 'slide-left'
			}
				
			
			
			下面的例子没完成

		-->
		<div id="app">
			
		</div>
		
		
		
		<script>
			
			const Home = {
			  template: `
			    <div class="home">
			      <h2>Home</h2>
			      <p>hello</p>
			    </div>
			  `
			};
			
			const Parent = {
			  data () {
			    return {
			      transitionName: 'slide-left'
			    }
			  },
			  // dynamically set transition based on route change
			  watch: {
			    '$route' (to, from) {
			      const toDepth = to.path.split('/').length
			      const fromDepth = from.path.split('/').length
			      this.transitionName = toDepth < fromDepth ? 'slide-right' : 'slide-left'
			    }
			  },
			  template: `
			    <div class="parent">
			      <h2>Parent</h2>
			      <transition :name="transitionName">
			        <router-view class="child-view"></router-view>
			      </transition>
			    </div>
			  `
			};
			
			
		const Default = { template: '<div class="default">default</div>' }
		const Foo = { template: '<div class="foo">foo</div>' }
		const Bar = { template: '<div class="bar">bar</div>' }
		
		const router = new VueRouter({
			routes: [
				 { path: '/', component: Home },
				 { path: '/parent', component: Parent,
			      children: [
			        { path: '', component: Default },
			        { path: 'foo', component: Foo },
			        { path: 'bar', component: Bar }
			      ]
			    }
			],
		});
		
		new Vue({
		  router,
		  template: `
		    <div id="app">
		      <h1>Transitions</h1>
		      <ul>
		        <li><router-link to="/">/</router-link></li>
		        <li><router-link to="/parent">/parent</router-link></li>
		        <li><router-link to="/parent/foo">/parent/foo</router-link></li>
		        <li><router-link to="/parent/bar">/parent/bar</router-link></li>
		      </ul>
		      <transition name="fade" mode="out-in">
		        <router-view class="view"></router-view>
		      </transition>
		    </div>`
		}).$mount('#app')
			
		</script>
	</body>
</html>

