<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<script type="text/javascript" src="../js/vue.js" ></script>
		<script src="https://unpkg.com/vue-router/dist/vue-router.js"></script>
		<style>
			
		</style>
	</head>
	<body>
		
		<!-- 编程式导航 -->
		<div id="app">
			<h1>Hello App!</h1>
			<p>
				<div onclick="goToFoo()">Go to Foo</div>
				<div onclick="goToBar()">Go to Bar</div>
			</p>
			<router-view></router-view>
		</div>
		
		
		
		<script>
			const Foo = { template: '<div>foo</div>' };
			const Bar = { template: '<div>bar</div>' };
			const routes = [
				{path : '/foo',component : Foo},
				{ path: '/bar', component: Bar }
			];
			
			const router = new VueRouter({
				routes
			});
			
			var app = new Vue({
				router
			}).$mount('#app');
			
			
			/* 通过代码控制路由跳转 */
			function goToFoo(){
				
				/* 
				 * router.push('foo') === <router-link to="foo"></router-link>
				 * 在 Vue 实例内部 通过通过this.$router.push调用
				 */
				router.push('foo');
				
				/*
				 	router.push("a");
				 	router.push({path : "a"});
				 	
				 	注意此处路径为name, 不是 path, 命名路由，需要在路由中设置好name,才可以使用
				 	router.push({name: "a",params : {arg : '参数'}});
				 	
				 	会被解析成 /a?arg=参数  上面为 /a/arg/参数
				 	router.push({ path: "a", query: { arg: '参数' }})
				 */
				
				
				
				/*
				 	router.replace() 和 router.push 相似
				 	不同点 ，replace不要向 history 添加新记录，而是
				 	替换掉当前的 history 记录
				 */
				
				/*
				 	router.push(location, onComplete?, onAbort?);
				 	参数2 导航成功 触发的回调
				 	参数3 导航被终止触发的回调（从1到2，还没成功，就跳到1到3处）	
				 */
				
				/*
				 	router.go();
				 	
				 	router.go(1) ===  history.forward() 浏览器记录中前进一步
				 	
				 	router.go(-1) ===  history.back()  后退一步记录，
				 	
				 	router.go(1000) 记录不够，失败 
				 	作用和 window.history.go 类似
				 * */
			}
			
			function goToBar(){
				router.push('bar');
			}
			
		</script>
	</body>
</html>
